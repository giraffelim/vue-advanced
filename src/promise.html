<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div>jquery ajax</div>    
</body>
<script
  src="https://code.jquery.com/jquery-3.5.1.js"
  integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
  crossorigin="anonymous"></script>
<script>
    function callAjax(){
        // Promise 객체는 항상 resolve, reject를 받는다.
        return new Promise(function(resolve, reject) {
            $.ajax({
            url: 'https://api.hnpwa.com/v0/news/1.json',
            success: function(data) {
                resolve(data); // 성공처리해
            }
            });
        });
    }

    function fetchData() {
        // 1
        var result = [];

        callAjax()
            // resolve된 데이터가 떨어진다.
            // resolve하면 then안에 받아올 수 있다.
            .then(function(data) {
                console.log('데이터 호출 결과', data);
                result = data;
                console.log('함수 결과', result);
            });

        // 2
        // $.ajax({
        //     url: 'https://api.hnpwa.com/v0/news/1.json',
        //     success: function(data) {
        //         console.log('데이터 호출 결과', data);
        //         result = data;
        //         console.log('함수 결과', result);
        //     }
        // });

    }

    fetchData();
</script>
</html>